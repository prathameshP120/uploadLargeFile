{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport { setIsAuthenticated, setLoading, setUser } from \"../features/userSlice\";\nexport const userApi = createApi({\n  reducerPath: \"userApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"/api/v1\"\n  }),\n  tagTypes: [\"User\"],\n  endpoints: builder => ({\n    getMe: builder.query({\n      query: () => `/me`,\n      transformResponse: result => result.user,\n      async onQueryStarted(args, {\n        dispatch,\n        queryFulfilled\n      }) {\n        try {\n          const {\n            data\n          } = await queryFulfilled;\n          dispatch(setUser(data));\n          dispatch(setIsAuthenticated(true));\n          dispatch(setLoading(false));\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      providesTags: [\"User\"]\n    }),\n    updateProfile: builder.mutation({\n      query(body) {\n        return {\n          url: \"/me/update\",\n          method: \"PUT\",\n          body\n        };\n      },\n      invalidatesTags: [\"User\"]\n    })\n  })\n});\nexport const {\n  useGetMeQuery,\n  useUpdateProfileMutation\n} = userApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","setIsAuthenticated","setLoading","setUser","userApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getMe","query","transformResponse","result","user","onQueryStarted","args","dispatch","queryFulfilled","data","error","console","log","providesTags","updateProfile","mutation","body","url","method","invalidatesTags","useGetMeQuery","useUpdateProfileMutation"],"sources":["C:/Users/patil/OneDrive/Desktop/Developmment/shope-It/frontend/src/redux/api/userApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\nimport { setIsAuthenticated, setLoading, setUser } from \"../features/userSlice\";\r\nexport const userApi = createApi({\r\n  reducerPath: \"userApi\",\r\n  baseQuery: fetchBaseQuery({ baseUrl: \"/api/v1\" }),\r\n  tagTypes: [\"User\"],\r\n  endpoints: (builder) => ({\r\n    getMe: builder.query({\r\n      query: () => `/me`,\r\n      transformResponse: (result) => result.user,\r\n      async onQueryStarted(args, { dispatch, queryFulfilled }) {\r\n        try {\r\n          const { data } = await queryFulfilled;\r\n          dispatch(setUser(data));\r\n          dispatch(setIsAuthenticated(true));\r\n          dispatch(setLoading(false));\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n      providesTags: [\"User\"],\r\n    }),\r\n    updateProfile: builder.mutation({\r\n      query(body) {\r\n        return {\r\n          url: \"/me/update\",\r\n          method: \"PUT\",\r\n          body,\r\n        };\r\n      },\r\n      invalidatesTags: [\"User\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetMeQuery, useUpdateProfileMutation } = userApi;\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AACxE,SAASC,kBAAkB,EAAEC,UAAU,EAAEC,OAAO,QAAQ,uBAAuB;AAC/E,OAAO,MAAMC,OAAO,GAAGL,SAAS,CAAC;EAC/BM,WAAW,EAAE,SAAS;EACtBC,SAAS,EAAEN,cAAc,CAAC;IAAEO,OAAO,EAAE;EAAU,CAAC,CAAC;EACjDC,QAAQ,EAAE,CAAC,MAAM,CAAC;EAClBC,SAAS,EAAGC,OAAO,KAAM;IACvBC,KAAK,EAAED,OAAO,CAACE,KAAK,CAAC;MACnBA,KAAK,EAAEA,CAAA,KAAM,KAAK;MAClBC,iBAAiB,EAAGC,MAAM,IAAKA,MAAM,CAACC,IAAI;MAC1C,MAAMC,cAAcA,CAACC,IAAI,EAAE;QAAEC,QAAQ;QAAEC;MAAe,CAAC,EAAE;QACvD,IAAI;UACF,MAAM;YAAEC;UAAK,CAAC,GAAG,MAAMD,cAAc;UACrCD,QAAQ,CAACf,OAAO,CAACiB,IAAI,CAAC,CAAC;UACvBF,QAAQ,CAACjB,kBAAkB,CAAC,IAAI,CAAC,CAAC;UAClCiB,QAAQ,CAAChB,UAAU,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC,CAAC,OAAOmB,KAAK,EAAE;UACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QACpB;MACF,CAAC;MACDG,YAAY,EAAE,CAAC,MAAM;IACvB,CAAC,CAAC;IACFC,aAAa,EAAEf,OAAO,CAACgB,QAAQ,CAAC;MAC9Bd,KAAKA,CAACe,IAAI,EAAE;QACV,OAAO;UACLC,GAAG,EAAE,YAAY;UACjBC,MAAM,EAAE,KAAK;UACbF;QACF,CAAC;MACH,CAAC;MACDG,eAAe,EAAE,CAAC,MAAM;IAC1B,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEC,aAAa;EAAEC;AAAyB,CAAC,GAAG5B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}